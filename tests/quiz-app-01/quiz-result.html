<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìƒì‹ í€´ì¦ˆ ì±Œë¦°ì§€ ê²°ê³¼</title>
    <meta name="description" content="ë‚˜ì˜ ìƒì‹ í€´ì¦ˆ ê²°ê³¼ëŠ”?">
    <meta name="keywords" content="ìƒì‹,í€´ì¦ˆ,í…ŒìŠ¤íŠ¸">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        .gradient-text {
            background: linear-gradient(45deg, #9333EA, #EC4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .result-card {
            animation: fadeIn 1s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .button-hover {
            transition: all 0.3s ease;
        }
        .button-hover:hover {
            transform: translateY(-2px);
        }
        .planner-button {
            animation: float 3s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-purple-50 to-pink-50 min-h-screen pb-32">
    <div class="max-w-lg mx-auto px-4 py-8">
        <!-- ê²°ê³¼ ì¹´ë“œ -->
        <div class="result-card bg-white rounded-2xl shadow-lg p-6 mb-8">
            <h1 class="text-2xl font-bold text-center gradient-text mb-4 result-title"></h1>
            <p class="text-lg text-center text-purple-800 mb-6 result-subtitle"></p>

            <!-- ê³µê° ì§€ìˆ˜ í‘œì‹œ -->
            <div class="flex justify-center items-center mb-8">
                <div class="w-32 h-32 rounded-full border-8 border-purple-200 flex items-center justify-center">
                    <span class="text-3xl font-bold text-purple-600 success-rate"></span>
                </div>
            </div>

            <!-- ì°¨íŠ¸ ì´ë¯¸ì§€ -->
            <div class="flex justify-center mb-8">
                <img src="" alt="í€´ì¦ˆ ì°¨íŠ¸" class="chart-image w-full max-w-sm rounded-lg shadow-md">
            </div>

            <!-- í‚¤ì›Œë“œ ì„¹ì…˜ -->
            <div class="flex flex-wrap justify-center gap-2 mb-6 keywords"></div>

            <!-- ê²°ê³¼ ì„¤ëª… -->
            <div class="bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6 mb-6">
                <h3 class="font-bold text-purple-800 mb-3">ğŸ’« ë‹¹ì‹ ì˜ ìƒì‹ ìŠ¤íƒ€ì¼</h3>
                <p class="text-purple-700 mb-4 description"></p>
                <h3 class="font-bold text-purple-800 mb-3">âœ¨ ìƒì‹ ëŠ¥ë ¥ ìƒìŠ¹ì„ ìœ„í•œ ì¡°ì–¸</h3>
                <p class="text-purple-700 advice"></p>
            </div>

            <!-- CTA ì„¹ì…˜ -->
            <div class="bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-4 mb-6">
                <h3 class="font-bold text-purple-800 mb-3">âœ¨ ìƒì„¸ ë¶„ì„ ê²°ê³¼</h3>
                <div class="space-y-2 text-purple-900">
                    <p>ğŸ¯ ì§€ì‹ ìˆ˜ì¤€: <span class="blur-sm">ë¹„ê³µê°œ</span></p>
                    <p>ğŸ’« ì´í•´ë ¥: <span class="blur-sm">ë¹„ê³µê°œ</span></p>
                    <p>âœ¨ ì‘ìš©ë ¥: <span class="blur-sm">ë¹„ê³µê°œ</span></p>
                </div>
                
                <button onclick="showFullAnalysis()" 
                        class="w-full mt-4 py-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-bold shadow-lg hover:shadow-xl transition-all duration-300 animate-pulse">
                    ìƒì„¸ ë¶„ì„ ê²°ê³¼ ë³´ê¸° (ë¬´ë£Œ)
                </button>
            </div>

            <!-- ë²„í‚·ë¦¬ìŠ¤íŠ¸ í”Œë˜ë„ˆ ì¶”ì²œ -->
            <div class="bg-gradient-to-r from-purple-100 to-pink-100 rounded-xl p-6 mb-6">
                <h3 class="font-bold text-purple-800 mb-2">ğŸ¯ ì¶”ì²œ ë„êµ¬</h3>
                <p class="text-purple-700 mb-4">ìƒì‹ ëŠ¥ë ¥ì„ í‚¤ìš°ê¸° ìœ„í•œ ë¬´ë£Œ í”Œë˜ë„ˆë¥¼ ë°›ì•„ë³´ì„¸ìš”!</p>
                <a href="https://coffeemania68.github.io/share/" 
                   target="_blank" 
                   rel="noopener noreferrer"
                   class="planner-button block w-full py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-bold text-center shadow-lg hover:shadow-xl transition-all duration-300">
                    2025 ë²„í‚·ë¦¬ìŠ¤íŠ¸ í”Œë˜ë„ˆ ë°›ê¸° âœ¨
                </a>
            </div>
        </div>
    </div>

    <!-- ê³ ì •ëœ í•˜ë‹¨ ë²„íŠ¼ -->
    <div class="fixed bottom-0 left-0 right-0 bg-white shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)]">
        <div class="max-w-lg mx-auto p-4 grid grid-cols-2 gap-3">
            <button onclick="location.href='./'" class="button-hover w-full py-3 px-6 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-full font-medium shadow-md hover:opacity-90">
                ë‹¤ì‹œ í…ŒìŠ¤íŠ¸í•˜ê¸°
            </button>
            <button onclick="location.href='https://coffeemania68.github.io/fortune-2025/'" class="button-hover w-full py-3 px-6 bg-gray-100 text-gray-700 rounded-full font-medium hover:bg-gray-200">
                ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ í•˜ê¸°
            </button>
        </div>
    </div>

    <script>
        const results = [
            {
                title: "ìƒì‹ ì²œì¬ (90-100ì )",
                subtitle: "ë‹¹ì‹ ì€ ëª¨ë“  ê²ƒì„ ê¿°ëš«ê³  ìˆëŠ” ì§€ì‹ì˜ ì‹ ! ğŸ†",
                successRate: "99%",
                chartImage: "https://blog.kakaocdn.net/dn/bAymPL/btsLFhWZnAq/jFQgneAkWRhVYvrEGKDYmk/img.jpg",
                keywords: ["ì§€ì‹ì™•", "ìƒì‹ ì²œì¬", "ë‡Œì„¹ë‚¨/ë‡Œì„¹ë…€"],
                description: "ë‹¹ì‹ ì€ ë›°ì–´ë‚œ ì§€ì‹ê³¼ ìƒì‹ì„ ê²¸ë¹„í•œ ì§„ì •í•œ ì²œì¬ì…ë‹ˆë‹¤. ì–´ë–¤ ì§ˆë¬¸ì—ë„ ë§‰í˜ì—†ì´ ë‹µí•  ìˆ˜ ìˆëŠ” ëŠ¥ë ¥ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.",
                advice: "âœ¨ ë‹¹ì‹ ì˜ ì§€ì‹ì€ ì´ë¯¸ ì™„ë²½í•©ë‹ˆë‹¤! ê¾¸ì¤€íˆ ì§€ì‹ì„ íƒêµ¬í•˜ê³ , ë‹¤ë¥¸ ì‚¬ëŒë“¤ì—ê²Œë„ ì§€ì‹ì„ ë‚˜ëˆ ì£¼ì„¸ìš”."
            },
            {
                title: "ìƒì‹ ë§ˆìŠ¤í„° (70-89ì )",
                subtitle: "ì§€ì‹ íƒí—˜ì˜ ë² í…Œë‘! ğŸ“š",
                successRate: "85%",
                chartImage: "https://blog.kakaocdn.net/dn/meEa1/btsLFExCUzR/QBJXO6n2HuIWf3ppdKEA60/img.webp",
                keywords: ["ì§€ì‹ íƒí—˜ê°€", "ìƒì‹ ì „ë¬¸ê°€", "í•™ìŠµ ëŠ¥ë ¥ì"],
                 description: "ë‹¹ì‹ ì€ ì§€ì‹ íƒí—˜ì— ëŠ¥ìˆ™í•œ ë² í…Œë‘ì…ë‹ˆë‹¤. ë‹¤ì–‘í•œ ë¶„ì•¼ì— ëŒ€í•œ ì§€ì‹ì„ ê°–ì¶”ê³  ìˆìœ¼ë©°, ìƒˆë¡œìš´ ì§€ì‹ì„ ìŠµë“í•˜ëŠ” ê²ƒì„ ì¦ê¹ë‹ˆë‹¤.",
                advice: "ğŸŒŠ ë‹¹ì‹ ì˜ ì§€ì‹ì€ ë§¤ìš° í›Œë¥­í•©ë‹ˆë‹¤! ê¾¸ì¤€íˆ í•™ìŠµì„ ì´ì–´ê°€ê³ , ìì‹ ê°ì„ ê°€ì§€ì„¸ìš”."
            },
            {
                title: "ìƒì‹ ë£¨í‚¤ (50-69ì )",
                subtitle: "ì§€ì‹ ì„±ì¥ì˜ ê°€ëŠ¥ì„±! ğŸŒ±",
                successRate: "65%",
                 chartImage: "https://blog.kakaocdn.net/dn/cLZls9/btsLFZ9jsjs/zK0nbtJ5LlaxfChjVOIZo0/img.jpg",
                keywords: ["ì§€ì‹ ëŸ¬ë„ˆ", "ìƒì‹ íŒ”ë¡œì›Œ", "ì„±ì¥í˜•"],
                description: "ë‹¹ì‹ ì€ ì§€ì‹ ì„±ì¥ì˜ ê°€ëŠ¥ì„±ì„ ê°€ì§„ ë£¨í‚¤ì…ë‹ˆë‹¤. ì•„ì§ì€ ë¶€ì¡±í•˜ì§€ë§Œ, ê¾¸ì¤€íˆ ë…¸ë ¥í•˜ë©´ ë›°ì–´ë‚œ ì§€ì‹ì¸ì´ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                advice: "ğŸ’« ê¾¸ì¤€íˆ í•™ìŠµí•˜ê³ , ë‹¤ì–‘í•œ ë¶„ì•¼ì— ê´€ì‹¬ì„ ê°€ì ¸ë³´ì„¸ìš”! ê³§ ìƒì‹ ë§ˆìŠ¤í„°ê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤."
            },
            {
                title: "ìƒì‹ ë‰´ë¹„ (30-49ì )",
                subtitle: "ìƒì‹ì˜ ì„¸ê³„ì— ì…ë¬¸! ğŸŒŸ",
                successRate: "45%",
                 chartImage: "https://blog.kakaocdn.net/dn/bbyl6h/btsLGdMPbmt/W9fsg5DKqfbNDG8k3ESYVK/img.jpg",
                keywords: ["ê´€ì°°ì", "ì‹ ì…ìƒ", "ë„ì „ì"],
               description: "ë‹¹ì‹ ì€ ìƒì‹ì˜ ì„¸ê³„ì— ì²«ë°œì„ ë‚´ë”›ì€ ë‰´ë¹„ì…ë‹ˆë‹¤. ì•„ì§ì€ ì–´ë µì§€ë§Œ, í¬ê¸°í•˜ì§€ ì•Šê³  ê³„ì† ë„ì „í•œë‹¤ë©´ ì¶©ë¶„íˆ ì„±ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                advice: "ğŸŒŸ ë‹¤ì–‘í•œ ì±…ì„ ì½ê³ , ìƒˆë¡œìš´ ì •ë³´ë¥¼ ì°¾ì•„ë³´ì„¸ìš”! ìƒì‹ì˜ ì„¸ê³„ëŠ” ë„“ê³  ì¬ë¯¸ìˆë‹µë‹ˆë‹¤."
            },
           {
                title: "ìƒì‹ ì´ˆë³´ (0-29ì )",
                subtitle: "ìƒì‹ë„ ì„±ì¥í•  ìˆ˜ ìˆì–´ìš”! ğŸ€",
                successRate: "25%",
                chartImage: "https://blog.kakaocdn.net/dn/dgzo1m/btsLHmoUquy/LKYBjnYvqyyXNuSAGbukck/img.png",
                keywords: ["í´ë˜ì‹", "ì´ˆë³´ì", "ê°€ëŠ¥ì„±"],
                description: "ìƒì‹ ì ìˆ˜ê°€ ë‚®ë‹¤ê³  ì‹¤ë§í•˜ì§€ ë§ˆì„¸ìš”! ìƒì‹ì€ ë…¸ë ¥í•˜ë©´ ì¶©ë¶„íˆ ì„±ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¤ì–‘í•œ ì§€ì‹ì„ ë°°ìš°ê³ , í¥ë¯¸ë¡œìš´ ì£¼ì œë¥¼ ì°¾ì•„ë³´ì„¸ìš”.",
                advice: "ğŸ’ ê¾¸ì¤€íˆ ë…¸ë ¥í•˜ë©´ ëˆ„êµ¬ë“  ìƒì‹ ì²œì¬ê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤! í¬ê¸°í•˜ì§€ ë§ê³  ê³„ì† ë„ì „í•˜ì„¸ìš”."
            }
         ];

        function getResultIndex(score) {
            if (score >= 90) return 0;
            if (score >= 70) return 1;
            if (score >= 50) return 2;
            if (score >= 30) return 3;
            return 4;
        }

        function displayResult() {
            const urlParams = new URLSearchParams(window.location.search);
            const score = parseInt(urlParams.get('score'));
            const resultIndex = getResultIndex(score);
            const result = results[resultIndex];

            document.querySelector('.result-title').textContent = result.title;
            document.querySelector('.result-subtitle').textContent = result.subtitle;
            document.querySelector('.success-rate').textContent = result.successRate;
            document.querySelector('.chart-image').src = result.chartImage;
            
            const keywordHtml = result.keywords.map(keyword => 
                `<span class="px-4 py-2 bg-gradient-to-r from-purple-100 to-pink-100 text-purple-800 rounded-full text-sm font-medium">${keyword}</span>`
            ).join('');
            document.querySelector('.keywords').innerHTML = keywordHtml;

            document.querySelector('.description').textContent = result.description;
            document.querySelector('.advice').textContent = result.advice;

              showRank(score);
        }
        
        function showRank(score) {
            let scoresData = JSON.parse(localStorage.getItem('quizScores') || '[]');
            scoresData.sort((a, b) => b.score - a.score);
            const userIndex = scoresData.findIndex(item => item.score === score);
            const rank = userIndex + 1;
            const totalUsers = scoresData.length;
            const percentage = totalUsers > 0 ? Math.round((rank / totalUsers) * 100) : 0;
    
           const rankTextElement = document.createElement('p');
           rankTextElement.className = "text-lg mb-4 text-center";
            let message = "";

              if (percentage <= 10) {
                message = "ì™€ìš°! ë‹¹ì‹ ì€ ìƒìœ„ 10% ì•ˆì— ë“œëŠ” ì²œì¬êµ°ìš”! ì´ëŒ€ë¡œë§Œ ì­‰ ê°€ì„¸ìš”!";
            } else if (percentage <= 30) {
               message = "ë‹¹ì‹ ì€ ìƒìœ„ 30% ì•ˆì— ë“¤ì—ˆì–´ìš”! ì •ë§ ëŒ€ë‹¨í•˜ë„¤ìš”! ë‹¤ìŒ ë ˆë²¨ë„ ë„ì „í•´ ë³´ì„¸ìš”!";
            } else if (percentage <= 50) {
                message = "ë‹¹ì‹ ì€ ìƒìœ„ 50% ì•ˆì— ë“¤ì—ˆì–´ìš”! í›Œë¥­í•´ìš”! ì¡°ê¸ˆë§Œ ë” ë…¸ë ¥í•˜ë©´ ë” ë†’ì€ ë“±ìˆ˜ë¥¼ ì–»ì„ ìˆ˜ ìˆì„ ê±°ì˜ˆìš”!";
            } else if (percentage <= 70) {
                 message = "ë‹¹ì‹ ì€ ìƒìœ„ 70% ì•ˆì— ë“¤ì—ˆì–´ìš”! ë©‹ì ¸ìš”! ê³„ì†í•´ì„œ ë…¸ë ¥í•˜ë©´ ë” ì¢‹ì€ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆì„ ê±°ì˜ˆìš”.";
            }
            else if (percentage <= 90) {
              message = "ì•„ì‰½ì§€ë§Œ ë‹¹ì‹ ì€ ìƒìœ„ 90% ì•ˆì— ë“¤ì—ˆì–´ìš”! ë‹¤ìŒ í…ŒìŠ¤íŠ¸ì—ì„œ ë§ŒíšŒí•´ ë³´ì„¸ìš”!";
            }
            else  {
                 message = "ê´œì°®ì•„ìš”! ë‹¤ìŒ í…ŒìŠ¤íŠ¸ì—ì„œ ë§ŒíšŒí•´ ë³´ì„¸ìš”!";
            }
              
              rankTextElement.textContent = `ë‹¹ì‹ ì€ ì „ì²´ ${totalUsers}ëª… ì¤‘ ${rank}ë“± ì…ë‹ˆë‹¤! (${percentage}%), ${message}`;
              document.querySelector(".success-rate").textContent = "";
             document.querySelector('.result-card').insertBefore(rankTextElement,document.querySelector('.chart-image'));
        }

         function showFullAnalysis() {
            document.querySelectorAll('.blur-sm').forEach(el => {
                el.classList.remove('blur-sm');
                
                const parentText = el.parentElement.textContent.trim();
                if (parentText.startsWith('ğŸ¯')) {
                    el.textContent = 'ìƒì‹ ì„ ë„ìê¸‰';
                } else if (parentText.startsWith('ğŸ’«')) {
                    el.textContent = 'ì´í•´ë ¥ ë§Œë ™';
                } else if (parentText.startsWith('âœ¨')) {
                    el.textContent = 'ì‘ìš©ë ¥ ì²œì¬';
                }
            });

            const button = document.querySelector('button[onclick="showFullAnalysis()"]');
            button.textContent = 'ë¶„ì„ ì™„ë£Œ! ğŸ‰';
            button.classList.remove('animate-pulse');
            button.classList.add('bg-gradient-to-r', 'from-green-500', 'to-emerald-500');
            button.onclick = null;
        }

        window.onload = displayResult;
    </script>
</body>
</html>
